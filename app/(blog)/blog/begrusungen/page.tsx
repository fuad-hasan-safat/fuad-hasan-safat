"use client";

import Head from "next/head";
import React, { useEffect, useState } from "react";
import Speech from "speak-tts";

interface Greeting {
  german: string;
  bangla: string;
  meaning: string;
}

const greetings: Greeting[] = [
  { german: "Guten Morgen", bangla: "‡¶ó‡ßÅ‡¶ü‡ßá‡¶® ‡¶Æ‡¶∞‡ßç‡¶ó‡ßá‡¶®", meaning: "Good Morning" },
  { german: "Guten Tag", bangla: "‡¶ó‡ßÅ‡¶ü‡ßá‡¶® ‡¶ü‡¶æ‡¶ó", meaning: "Good Day" },
  { german: "Guten Abend", bangla: "‡¶ó‡ßÅ‡¶ü‡ßá‡¶® ‡¶Ü‡¶¨‡ßá‡¶®‡ßç‡¶°", meaning: "Good Evening" },
  { german: "Gute Nacht", bangla: "‡¶ó‡ßÅ‡¶ü‡ßá ‡¶®‡¶æ‡¶ñ‡¶ü", meaning: "Good Night" },
  { german: "Hallo", bangla: "‡¶π‡¶æ‡¶≤‡ßã", meaning: "Hello" },
  { german: "Tsch√ºss", bangla: "‡¶ö‡ßÅ‡¶∏", meaning: "Bye" },
  { german: "Auf Wiedersehen", bangla: "‡¶Ü‡¶â‡¶´ ‡¶≠‡¶ø‡¶°‡¶æ‡¶∞‡¶ú‡ßá‡¶®", meaning: "Goodbye" },
  { german: "Wie geht‚Äôs?", bangla: "‡¶≠‡¶ø ‡¶ó‡ßá‡¶ü‡¶∏?", meaning: "How are you?" },
  { german: "Mir geht es gut", bangla: "‡¶Æ‡¶ø‡ßü‡¶æ‡¶∞ ‡¶ó‡ßá‡¶ü ‡¶è‡¶∏ ‡¶ó‡ßÅ‡¶ü", meaning: "I'm fine" },
  { german: "Danke sch√∂n", bangla: "‡¶°‡¶æ‡¶ô‡ßç‡¶ï‡ßá ‡¶∂‡ßç‡¶Ø‡ßã‡¶®", meaning: "Thank you very much" },
];
export default function Page() {
    const [speech, setSpeech] = useState<Speech | null>(null);

    useEffect(() => {
      const speechInstance = new Speech();
      speechInstance
        .init({
          volume: 1,
          lang: "de-DE",
          rate: 1,
          pitch: 1,
        })
        .then(() => setSpeech(speechInstance))
        .catch((e) => console.error("TTS Error:", e));
    }, []);
  
    const speakGreeting = (text: string) => {
      if (speech) {
        speech.speak({ text });
      }
    };
  
    return (
      <div className="max-w-2xl mx-auto p-6">
        <Head>
            <title>German to Bangla Greetings</title>
            <meta name="description" content="Generated by create next app" />
            <meta name="viewport" content="width=device-width, initial-scale=1" />
            <link rel="icon" href="/favicon.ico" />
        </Head>
        <h1 onClick={() => speakGreeting('Deutsche Gr√º√üe')} className="text-2xl font-bold text-center mb-6">German Greetings (Deutsche Gr√º√üe  <span className="text-xl cursor-pointer">üîä</span>) üá©üá™</h1>
  
        <div className="grid grid-cols-1 gap-4">
          {greetings.map((greet, index) => (
            <button
              key={index}
              onClick={() => speakGreeting(greet.german)}
              className="p-4 border border-gray-300 rounded-lg shadow-md flex justify-between items-center
                hover:bg-blue-500 hover:text-white transition-all"
            >
              <div>
                <p className="text-lg font-bold">{index + 1} {greet.german}</p>
                <p className="text-sm text-gray-600">{greet.bangla}</p>
                <p className="text-xs italic">{greet.meaning}</p>
              </div>
              <span className="text-xl">üîä</span>
            </button>
          ))}
        </div>
      </div>
    );
}
